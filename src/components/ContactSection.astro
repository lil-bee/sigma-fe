---
import { MailIcon, MapPinIcon, PhoneIcon } from "@lucide/astro";
import type { Contact } from "../interfaces/contact";
import fetchApi from "../lib/strapi";

const contact = await fetchApi<Contact>({
  endpoint: "contact",
  wrappedByKey: "data",
});
---

<section class="flex flex-col items-center justify-center gap-8 md:gap-14 py-8 md:py-[72px] w-full bg-white">
  <div class="flex flex-col md:flex-row items-start gap-8 md:gap-[98px] w-full max-w-7xl px-6 md:px-0">
    <!-- Left content -->
    <div class="flex flex-col items-start gap-4 flex-1">
      <h3 class="text-lg font-semibold text-black">Contact</h3>

      <div class="flex flex-col gap-4 md:gap-6 w-full">
        <h2 class="text-2xl md:text-4xl font-extrabold leading-tight text-black">
          {contact.title}
        </h2>
        <p class="text-base md:text-lg text-black">
          {contact.description}
        </p>
      </div>
    </div>

    <!-- Contact details card -->
    <div class="w-full md:w-[350px] bg-transparent py-2">
      <div class="flex flex-col gap-6 p-0">
        <!-- Email -->
        <div class="flex items-start gap-4 w-full">
         <MailIcon class="w-6 h-6 text-red-600"/>
          <div class="flex flex-col flex-1">
            <h6 class="text-base font-semibold text-black">Email</h6>
            <a href={`mailto:${contact.email}`} class="text-sm underline text-black">{contact.email}</a>
          </div>
        </div>

        <!-- Phone -->
        <div class="flex items-start gap-4 w-full">
         <PhoneIcon class="w-6 h-6 text-red-600"/>
          
          <div class="flex flex-col flex-1">
            <h6 class="text-base font-semibold text-black">Phone</h6>
            <a href={`tel:${contact.phone}`} class="text-sm underline text-black">{contact.phone}</a>
          </div>
        </div>

        <!-- Address -->
        <div class="flex items-start gap-4 w-full">
         <MapPinIcon class="w-6 h-6 text-red-600"/>
          
          <div class="flex flex-col flex-1">
            <h6 class="text-base font-semibold text-black">Office</h6>
            <p class="text-sm text-black">{contact.address}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Google Maps Embed -->
  <div class="w-full max-w-7xl h-[300px] md:h-[500px] px-6 md:px-0 mt-8">
    <iframe
      src={contact.google_maps_embed_url}
      title="Office Location Map"
      class="w-full h-full border-0 rounded-md"
      allowfullscreen
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
  </div>
</section>
